<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - Origami Admin</title>
    <link rel="stylesheet" href="../Home.css?v=11" />
    <link rel="stylesheet" href="css/admin.css?v=11" />
    <link rel="icon" type="image/jpeg" href="../img/iconoOrigami.webp" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <style>
      /* Fix para sidebar móvil visible */
      @media (max-width: 768px) {
        .admin-sidebar,
        .sidebar {
          background: rgba(30, 30, 30, 0.95) !important;
          backdrop-filter: blur(20px) saturate(150%) !important;
          border-right: 2px solid rgba(255, 255, 255, 0.3) !important;
        }

        .admin-sidebar.is-open,
        .sidebar.is-open {
          background: rgba(30, 30, 30, 0.98) !important;
        }

        .admin-sidebar *,
        .sidebar * {
          color: white !important;
        }
      }
    </style>
  </head>
  <body>
    <div class="admin-layout">
      <!-- Sidebar (componente) -->
      <div id="sidebar-placeholder"></div>

      <!-- Main Content -->
      <main class="admin-main">
        <div class="page-header">
          <h1 class="page-title">Dashboard</h1>
          <div class="header-actions">
            <a class="btn btn-secondary" href="/Home.html">
              <i class="fa-solid fa-house"></i> Ver Home
            </a>
            <button class="btn btn-secondary" onclick="refreshData()">
              <i class="fa-solid fa-refresh"></i> Actualizar
            </button>
            <button class="btn btn-primary" onclick="exportData()">
              <i class="fa-solid fa-download"></i> Exportar Datos
            </button>
          </div>
        </div>

        <!-- Statistics Cards -->
        <div class="stats-grid" id="statsGrid">
          <!-- Stats will be populated by JavaScript -->
        </div>

        <!-- Charts and Analytics -->
        <!-- <div class="admin-card">
        <div class="card-header">
          <h3 class="card-title">Análisis de Ventas</h3>
        </div>
        <div class="chart-container">
          <canvas id="salesChart" width="400" height="200"></canvas>
        </div>
      </div> -->

        <!-- Recent Activity -->
        <div class="admin-card">
          <div class="card-header">
            <h3 class="card-title">Actividad Reciente</h3>
          </div>
          <div id="recentActivity">
            <!-- Activity will be populated by JavaScript -->
          </div>
        </div>

        <!-- Top Products 
      <div class="admin-card">
        <div class="card-header">
          <h3 class="card-title">Top Categorías</h3>
        </div>
        <div id="topCategories">
          Categories will be populated by JavaScript 
        </div>
      </div>-->

        <!-- System Info
      <div class="admin-card">
        <div class="card-header">
          <h3 class="card-title">Información del Sistema</h3>
        </div>
        <div class="system-info">
          <div class="info-row">
            <span>Usuario:</span>
            <span id="currentUser">-</span>
          </div>
          <div class="info-row">
            <span>Última actualización:</span>
            <span id="lastUpdate">-</span>
          </div>
          <div class="info-row">
            <span>Almacenamiento:</span>
            <span id="storageUsage">-</span>
          </div>
        </div>
      </div> -->
      </main>
    </div>

    <!-- Scripts -->
    <!-- Axios CDN -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <!-- API Configuration & Service -->
    <script src="js/config.js"></script>
    <script src="js/api-service.js"></script>

    <script src="js/sidebar.js?v=1"></script>
    <script src="js/auth.js?v=1"></script>
    <script src="js/storage.js?v=1"></script>
    <script src="js/dashboard.js?v=2"></script>

    <script>
      // Background rotation
      const backgroundImages = ["../img/PLANTILLA 1.webp"];

      let currentImageIndex = 0;
      const body = document.body;

      function changeBackground() {
        const nextImage = new Image();
        const nextImageIndex =
          (currentImageIndex + 1) % backgroundImages.length;
        nextImage.src = backgroundImages[nextImageIndex];

        body.style.backgroundImage = `url('${backgroundImages[currentImageIndex]}')`;
        currentImageIndex = nextImageIndex;
      }

      changeBackground();
    </script>
  </body>
</html>
